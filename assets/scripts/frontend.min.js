/*! iWorks PWA - v0.0.1
 * https://iworks.pl/
 * Copyright (c) 2021; * Licensed GPLv2+ */

!function(){"serviceWorker"in navigator?(console.log("CLIENT: service worker registration in progress. serviceWorker"),navigator.serviceWorker.register(window.iworks_pwa.pwa.root+"service-worker.php").then(function(){console.log("CLIENT: service worker registration complete.")},function(){console.log("CLIENT: service worker registration failure.")})):(console.log("CLIENT: service worker is not supported."),self.addEventListener("activate",function(a){a.waitUntil(caches.keys().then(function(a){return Promise.all(a.filter(function(a){return a!==MY_CACHE}).map(function(a){return caches.delete(a)}))}))}),self.addEventListener("fetch",function(a){a.respondWith(fetch(a.request).catch(function(){return caches.match(a.request)}))}))}();